{"version":3,"sources":["webpack:///src/app/passwordreset/passwordreset.page.html","webpack:///src/app/passwordreset/passwordreset.module.ts","webpack:///src/app/passwordreset/passwordreset.page.scss","webpack:///src/app/passwordreset/passwordreset.page.ts","webpack:///src/app/services/toast.service.ts"],"names":["routes","path","component","loadChildren","PasswordresetPageModule","imports","forChild","declarations","PasswordresetPage","fun","menuCtrl","loginservice","storage","router","toasterservice","loadingController","sharedservice","formBuilder","email","validation_messages","mobileNumber","type","message","fg","group","MobileNumber","compose","required","pattern","enable","value","substring","create","loading","present","forgotPassword","JSON","stringify","subscribe","res","id","console","log","dismiss","navigate","err","selector","template","ToastService","toastCtrl","color","ok","duration","toast","position","providedIn"],"mappings":"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","file":"passwordreset-passwordreset-module-es5.js","sourcesContent":["export default \"<!-- /**\\r\\n * Shoppr - E-commerce app starter Ionic 4(https://www.enappd.com)\\r\\n *\\r\\n * Copyright © 2018-present Enappd. All rights reserved.\\r\\n *\\r\\n * This source code is licensed as per the terms found in the\\r\\n * LICENSE.md file in the root directory of this source .\\r\\n */ -->\\r\\n\\r\\n\\r\\n  <ion-header padding style=\\\"background: black;\\\" class=\\\"mybg head\\\">\\r\\n    <ion-toolbar color=\\\"dark\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-back-button   style=\\\"color: white\\\" defaultHref=\\\"/\\\" slot=\\\"end\\\"> </ion-back-button>\\r\\n      </ion-buttons>\\r\\n    </ion-toolbar>  \\r\\n    <ion-row class=\\\"ion-justify-content-center\\\" style=\\\"background: black; height: 140px;\\\">\\r\\n      <ion-img src=\\\"assets/images/logo.png\\\" class=\\\"head-image\\\"></ion-img>\\r\\n    </ion-row>\\r\\n  </ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding \\\">\\r\\n  <ion-text><h3  class=\\\"title ion-no-margin ion-margin-bottom ion-text-center\\\" style=\\\"font-family: 'Times New Roman', Times, serif; font-weight: bold; font-size: 18px;\\\">Forgot your password?</h3></ion-text>\\r\\n  <ion-grid>\\r\\n    \\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <form [formGroup]=\\\"fg\\\">\\r\\n        <ion-label><ion-text class=\\\"small\\\" style=\\\"font-family: 'Times New Roman', Times, serif;  font-size: 16px;\\\">Type your Contact Number</ion-text></ion-label><br>\\r\\n        <ion-input  type=\\\"text\\\" placeholder=\\\"Enter Contact Number\\\" formControlName=\\\"MobileNumber\\\" [(ngModel)]=\\\"email\\\" class=\\\"input ion-clearInput ion-padding-horizontal ion-padding-top\\\" ></ion-input>\\r\\n        <div class=\\\"validation-errors\\\">\\r\\n          <ng-container *ngFor=\\\"let validation of validation_messages.mobileNumber\\\">\\r\\n            <div class=\\\"error-message\\\"\\r\\n              *ngIf=\\\"fg.get('MobileNumber').hasError(validation.type) && (fg.get('MobileNumber').dirty || fg.get('MobileNumber').touched)\\\">\\r\\n              <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{ validation.message }}\\r\\n            </div>\\r\\n          </ng-container>\\r\\n        </div>\\r\\n      </form>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-button expand=\\\"block\\\" color=\\\"mycolor1\\\" [disabled]=\\\"!fg.valid\\\" (click)=\\\"reset()\\\"><strong class=\\\"white\\\">Reset Password</strong></ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";","/**\r\n * Shoppr - E-commerce app starter Ionic 4(https://www.enappd.com)\r\n *\r\n * Copyright © 2018-present Enappd. All rights reserved.\r\n *\r\n * This source code is licensed as per the terms found in the\r\n * LICENSE.md file in the root directory of this source .\r\n * \r\n */\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { PasswordresetPage } from './passwordreset.page';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PasswordresetPage\r\n  },\r\n  { path: ':id/otp', loadChildren: './otp_verify/otp_verifyreset.module#OtpverifyresetPageModule' },\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [PasswordresetPage]\r\n})\r\nexport class PasswordresetPageModule {}\r\n","export default \".head {\\n  min-height: 21vh !important;\\n}\\n\\n.head-image {\\n  background-size: contain;\\n  width: 180px;\\n  align-self: center;\\n}\\n\\n.small {\\n  font-size: 15px;\\n  color: black;\\n}\\n\\n.white {\\n  color: white;\\n}\\n\\n.input {\\n  background-color: #f0f0f0;\\n  border: 1px solid #d2d2d2;\\n  border-radius: 9px;\\n  font-size: 0.9em !important;\\n  margin-top: 10px;\\n}\\n\\n.title {\\n  font-size: 18px;\\n  color: #070707;\\n}\\n\\n.error-message {\\n  color: red;\\n  font-size: 14px;\\n  margin-left: 10px;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFzc3dvcmRyZXNldC9EOlxcZ2l0a3VpY2tzYXZlXFxtdWx0aXN0b3JlLW1vYmlsZS1hcHAvc3JjXFxhcHBcXHBhc3N3b3JkcmVzZXRcXHBhc3N3b3JkcmVzZXQucGFnZS5zY3NzIiwic3JjL2FwcC9wYXNzd29yZHJlc2V0L3Bhc3N3b3JkcmVzZXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMkJBQUE7QUNDSjs7QURDQTtFQUNJLHdCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDRUo7O0FEQUE7RUFDSSxlQUFBO0VBQ0EsWUFBQTtBQ0dKOztBREFBO0VBQ0ksWUFBQTtBQ0dKOztBRERBO0VBQ0kseUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsMkJBQUE7RUFDQSxnQkFBQTtBQ0lKOztBREZBO0VBQ0ksZUFBQTtFQUNBLGNBQUE7QUNLSjs7QURGQTtFQUNJLFVBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQ0tKIiwiZmlsZSI6InNyYy9hcHAvcGFzc3dvcmRyZXNldC9wYXNzd29yZHJlc2V0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5oZWFkIHtcclxuICAgIG1pbi1oZWlnaHQ6IDIxdmggIWltcG9ydGFudDtcclxufVxyXG4uaGVhZC1pbWFnZSB7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XHJcbiAgICB3aWR0aDogMTgwcHg7XHJcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XHJcbn1cclxuLnNtYWxsIHtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGNvbG9yOiByZ2IoMCwgMCwgMCk7XHJcbiAgICBcclxufVxyXG4ud2hpdGUge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcbi5pbnB1dCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQwLCAyNDAsIDI0MCk7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjEwLCAyMTAsIDIxMCk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA5cHg7XHJcbiAgICBmb250LXNpemU6IC45ZW0gIWltcG9ydGFudDtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbn1cclxuLnRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGNvbG9yOiAgIzA3MDcwNztcclxufVxyXG5cclxuLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICB9XHJcbiAgIiwiLmhlYWQge1xuICBtaW4taGVpZ2h0OiAyMXZoICFpbXBvcnRhbnQ7XG59XG5cbi5oZWFkLWltYWdlIHtcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xuICB3aWR0aDogMTgwcHg7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cblxuLnNtYWxsIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi53aGl0ZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmlucHV0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2QyZDJkMjtcbiAgYm9yZGVyLXJhZGl1czogOXB4O1xuICBmb250LXNpemU6IDAuOWVtICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi50aXRsZSB7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgY29sb3I6ICMwNzA3MDc7XG59XG5cbi5lcnJvci1tZXNzYWdlIHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn0iXX0= */\";","/**\r\n * Shoppr - E-commerce app starter Ionic 4(https://www.enappd.com)\r\n *\r\n * Copyright © 2018-present Enappd. All rights reserved.\r\n *\r\n * This source code is licensed as per the terms found in the\r\n * LICENSE.md file in the root directory of this source .\r\n * \r\n */\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FunctionsService } from '../functions.service';\r\nimport { MenuController } from '@ionic/angular';\r\nimport { LoginService } from 'src/app/services/login.service';\r\nimport { SharedService } from 'src/app/services/shared.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Router } from '@angular/router';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { LoadingController } from \"@ionic/angular\";\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-passwordreset',\r\n  templateUrl: './passwordreset.page.html',\r\n  styleUrls: ['./passwordreset.page.scss'],\r\n})\r\nexport class PasswordresetPage implements OnInit {\r\n\r\n  email = \"\";\r\n  id: any;\r\n  fg: FormGroup;\r\n  constructor(private fun: FunctionsService, private menuCtrl: MenuController,private loginservice: LoginService,\r\n    private storage: Storage ,private router: Router, private toasterservice: ToastService,\r\n    public loadingController: LoadingController, private sharedservice: SharedService,private formBuilder: FormBuilder) { \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fg = this.formBuilder.group({\r\n      MobileNumber: new FormControl(\r\n        \"\",\r\n        Validators.compose([\r\n          Validators.required,\r\n          Validators.pattern(\"^0[03][0-9]{9}$\")\r\n        ])\r\n      ),\r\n    });\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    this.menuCtrl.enable(false, 'start');\r\n    this.menuCtrl.enable(false, 'end');\r\n  }\r\n\r\n  async reset(){\r\n    // if(this.fun.validateEmail(this.email)){\r\n      this.fg.value.MobileNumber = this.fg.value.MobileNumber.substring(1,11); \r\n        const loading = await this.loadingController.create({ message: \"Loading\" });\r\n        await loading.present();\r\n        \r\n            await this.loginservice.forgotPassword((JSON.stringify(this.fg.value.MobileNumber))) //(JSON.stringify(this.fg.value.MobileNumber))\r\n            .subscribe(res => {\r\n              if (res) { \r\n               this.id = res;\r\n               console.log(this.id);\r\n                loading.dismiss();\r\n                this.toasterservice.create(\"Code is sent to your email and number\", 'success');\r\n                this.router.navigate(['passwordreset/'+res+'/otp']);\r\n              }\r\n              else {\r\n                loading.dismiss();\r\n                this.toasterservice.create(\"error occored\" , 'danger');\r\n              }\r\n            }, (err) => {\r\n              loading.dismiss();\r\n              this.toasterservice.create(\"Please enter a valid number\", 'danger');\r\n            });\r\n    }\r\n    // else{\r\n    //   this.fun.presentToast('Wrong Input!', true, 'bottom', 2100);\r\n    // }\r\n  \r\n  validation_messages = {   \r\n    mobileNumber: [\r\n      { type: \"pattern\", message: \"Number is like 03xxxxxxxxx and length must be 11\" }\r\n    ]\r\n  };\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ToastService {\r\n\r\n  toast: HTMLIonToastElement;\r\n\r\n  constructor(public toastCtrl: ToastController) { }\r\n\r\n  async create(message: string, color = \"success\", ok = false, duration = 3000) {\r\n    if (this.toast) {\r\n      this.toast.dismiss();\r\n    }\r\n\r\n    this.toast = await this.toastCtrl.create({\r\n      message,\r\n      color: color,\r\n      duration: ok ? null : duration,\r\n      position: 'bottom',\r\n      // showCloseButton: ok,\r\n      // closeButtonText: 'OK'\r\n    });\r\n    this.toast.present();\r\n  }\r\n\r\n}\r\n"]}